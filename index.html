<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matching Mania</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #2c3e50;
            color: white;
        }

        #scoreboard {
            display: flex;
            gap: 20px;
            margin: 20px;
            font-size: 1.2em;
        }

        #gameGrid {
            display: grid;
            gap: 10px;
            padding: 20px;
            background: #34495e;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .game-item {
            width: 50px;
            height: 50px;
            background: #ecf0f1;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: transform 0.3s, opacity 0.3s;
        }

        .game-item.matched {
            transform: scale(0);
            opacity: 0;
        }

        #progressBar {
            width: 300px;
            height: 20px;
            background: #2c3e50;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px;
        }

        #progressFill {
            height: 100%;
            background: #27ae60;
            transition: width 0.3s;
        }

        #timer {
            font-size: 1.5em;
            color: #e74c3c;
            margin: 10px;
        }

        .instructions {
            background: #34495e;
            padding: 20px;
            border-radius: 10px;
            margin: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="scoreboard">
        <div>Level: <span id="level">1</span></div>
        <div>Score: <span id="score">0</span></div>
    </div>
    <div id="timer">45</div>
    <div id="progressBar"><div id="progressFill"></div></div>
    <div id="gameGrid"></div>
    <div id="instructions" class="instructions"></div>

    <script>
        const emojis = ['🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯', 
                       '🦁', '🐮', '🐷', '🐸', '🐵', '🐔', '🐧', '🐦', '🐤', '🦄'];
        let selectedItems = [];
        let currentLevel = 1;
        let score = 0;
        let timeLeft = 45;
        let timerId;
        const levelConfig = [
            { pairs: 10, time: 45 }, // Level 1
            { pairs: 15, time: 45 }, // Level 2
            { pairs: 20, time: 45 }, // Level 3
            { pairs: 25, time: 45 }, // Level 4
            { pairs: 30, time: 45 }, // Level 5
            { pairs: 35, time: 45 }, // Level 6
            { pairs: 40, time: 45 }  // Level 7
        ];

        function initGame() {
            const config = levelConfig[currentLevel - 1];
            document.getElementById('instructions').textContent = 
                `Level ${currentLevel}: Find ${config.pairs} pairs in 45 seconds!`;
            
            const pairs = emojis.slice(0, config.pairs);
            const items = [...pairs, ...pairs].sort(() => Math.random() - 0.5);
            
            document.getElementById('gameGrid').style.gridTemplateColumns = 
                `repeat(${Math.sqrt(items.length * 2)}, 1fr)`;
            
            document.getElementById('gameGrid').innerHTML = items
                .map(item => `<div class="game-item">${item}</div>`)
                .join('');

            document.querySelectorAll('.game-item').forEach(item => {
                item.addEventListener('click', handleItemClick);
            });

            startTimer();
        }

        function handleItemClick(e) {
            if (selectedItems.length >= 2 || e.target.classList.contains('matched')) return;
            
            e.target.style.background = '#3498db';
            selectedItems.push(e.target);

            if (selectedItems.length === 2) {
                if (selectedItems[0].textContent === selectedItems[1].textContent) {
                    score += 100;
                    document.getElementById('score').textContent = score;
                    selectedItems.forEach(item => item.classList.add('matched'));
                    updateProgress();
                    checkLevelCompletion();
                } else {
                    setTimeout(() => {
                        selectedItems.forEach(item => item.style.background = '#ecf0f1');
                    }, 500);
                }
                selectedItems = [];
            }
        }

        function updateProgress() {
            const matched = document.querySelectorAll('.matched').length / 2;
            const totalPairs = levelConfig[currentLevel - 1].pairs;
            const progress = (matched / totalPairs) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function checkLevelCompletion() {
            const matchedPairs = document.querySelectorAll('.matched').length / 2;
            if (matchedPairs === levelConfig[currentLevel - 1].pairs) {
                clearInterval(timerId);
                if (currentLevel === 7) {
                    alert('Congratulations! You won the game!');
                } else {
                    currentLevel++;
                    setTimeout(() => {
                        timeLeft = 45;
                        initGame();
                        document.getElementById('level').textContent = currentLevel;
                    }, 1500);
                }
            }
        }

        function startTimer() {
            clearInterval(timerId);
            document.getElementById('timer').textContent = timeLeft;
            timerId = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    alert('Time\'s up! Game Over!');
                }
            }, 1000);
        }

        // Start the game
        initGame();
    </script>
</body>
</html>
